<!doctype html>
<html lang="en"><meta charset="utf-8">
<title>Quo Call</title>
<script>
  const p = new URLSearchParams(location.search);
  const to   = p.get('number') || '';
  const from = p.get('from')   || '';
  const inbox = p.get('inbox') || ''; // e.g. PNpifzN2NC

  const deep = 'openphone://dial?number=' + encodeURIComponent(to) +
               '&from=' + encodeURIComponent(from) + '&action=call';

  // Fallback: web inbox (requires you to be logged in)
  const web = inbox ? ('https://my.openphone.com/inbox/' + encodeURIComponent(inbox))
                    : 'https://my.openphone.com/inbox';

  // Try the app first
  window.location.href = deep;

  // If the app isn’t available, go to web after a short delay
  setTimeout(() => { window.location.href = web; }, 2000);
</script>
<body>
  <p>Launching Quo… If nothing happens, <a id="open" href="#">tap here</a>.</p>
  <script>document.getElementById('open').href = deep;</script>
</body>
</html>
